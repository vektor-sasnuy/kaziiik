<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mopeds App — Головна</title>

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  />

  <!-- Bootstrap Icons -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
  />

  <style>
    :root{
      --radius-xl: 18px;
      --radius-lg: 14px;
      --shadow-sm: 0 6px 18px rgba(15, 23, 42, .06);
      --shadow-md: 0 16px 40px rgba(15, 23, 42, .10);
      --border: rgba(15, 23, 42, .10);
      --muted: rgba(15, 23, 42, .62);
      --bg: #f6f7fb;
      --card: #ffffff;
    }

    body { background: var(--bg); }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 1020;
      background: rgba(246, 247, 251, .82);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .panel{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-sm);
    }

    .hero{
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background:
        radial-gradient(1200px 400px at 20% -10%, rgba(13,110,253,.18), transparent 60%),
        radial-gradient(900px 350px at 85% 0%, rgba(25,135,84,.14), transparent 55%),
        #fff;
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }

    .control{
      border-radius: 12px !important;
      border: 1px solid var(--border) !important;
      box-shadow: none !important;
    }
    .control:focus{
      border-color: rgba(13,110,253,.45) !important;
      box-shadow: 0 0 0 .2rem rgba(13,110,253,.12) !important;
    }

    .kpi{
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background: #fff;
      box-shadow: var(--shadow-sm);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      overflow: hidden;
    }
    .kpi:hover{
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
      border-color: rgba(15, 23, 42, .18);
    }

    .kpi-icon{
      width: 46px; height: 46px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.65);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      flex: 0 0 auto;
    }
    .kpi-icon i{ font-size: 1.55rem; opacity: .9; }

    .kpi-label{
      font-size: .78rem;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--muted);
      margin: 0;
    }
    .kpi-value{
      font-weight: 900;
      letter-spacing: -0.02em;
      margin: .15rem 0 0 0;
      font-size: clamp(1.6rem, 2.8vw, 2.3rem);
      line-height: 1.05;
    }

    .badge-soft{
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, .03);
      color: rgba(15, 23, 42, .72);
      font-weight: 600;
      border-radius: 999px;
      padding: .25rem .55rem;
      font-size: .75rem;
      white-space: nowrap;
    }

    .vehicle-card{
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background: #fff;
      box-shadow: var(--shadow-sm);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      overflow: hidden;
      height: 100%;
    }
    .vehicle-card:hover{
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
      border-color: rgba(15, 23, 42, .18);
    }

    .vehicle-meta{
      color: var(--muted);
      font-size: .92rem;
      line-height: 1.45;
    }

    .table thead th{
      color: rgba(15, 23, 42, .70);
      font-weight: 700;
      background: rgba(15, 23, 42, .03);
      border-bottom: 1px solid var(--border);
    }
    .table-hover tbody tr:hover{ background: rgba(15, 23, 42, .03); }

    .text-muted-2{ color: var(--muted) !important; }

    .section-title{
      font-weight: 900;
      letter-spacing: -0.01em;
      margin: 0;
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="container py-3">
      <div class="d-flex align-items-center justify-content-between gap-3">
        <div class="d-flex align-items-center gap-2">
          <span class="d-inline-flex align-items-center justify-content-center rounded-3 border bg-white"
                style="width:40px;height:40px;border-color:var(--border);">
            <i class="bi bi-scooter"></i>
          </span>
          <div>
            <div class="fw-bold">Mopeds App</div>
            <div class="small text-muted-2">Головна • керування мопедами</div>
          </div>
        </div>

        <div class="d-flex align-items-center gap-2">
          <a class="btn btn-outline-secondary control" href="{% url 'mopeds_list' %}">
            <i class="bi bi-list-ul me-1"></i> Список
          </a>
          <a class="btn btn-primary control fw-semibold" href="{% url 'moped_create' %}">
            <i class="bi bi-plus-circle me-1"></i> Додати
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-4">
    <!-- Hero -->
    <div class="hero p-4 p-md-5">
      <div class="row g-4 align-items-center">
        <div class="col-lg-7">
          <h1 class="display-6 fw-bold text-primary mb-2">Ласкаво просимо до Mopeds App</h1>
          <div class="text-muted-2">
            Тут можна швидко додавати мопеди, переглядати список, і в майбутньому — фільтрувати, експортувати та будувати аналітику.
          </div>

          <div class="d-flex flex-wrap gap-2 mt-4">
            <a class="btn btn-primary control fw-semibold" href="{% url 'mopeds_list' %}">
              <i class="bi bi-arrow-right-circle me-1"></i> Перейти до списку
            </a>
            <a class="btn btn-success control fw-semibold" href="{% url 'moped_create' %}">
              <i class="bi bi-plus-circle me-1"></i> Додати мопед
            </a>

            <!-- Місце під майбутні модулі -->
            <button class="btn btn-outline-secondary control" type="button" disabled title="Скоро">
              <i class="bi bi-download me-1"></i> Експорт
            </button>
            <button class="btn btn-outline-secondary control" type="button" disabled title="Скоро">
              <i class="bi bi-graph-up me-1"></i> Аналітика
            </button>
          </div>
        </div>

        <div class="col-lg-5">
          <!-- KPI -->
          <div class="kpi p-3 p-md-4">
            <div class="d-flex align-items-start justify-content-between gap-3">
              <div>
                <p class="kpi-label">Всього мопедів у базі</p>
                <div class="kpi-value">{{ mopeds_count|default:"0" }}</div>
                <div class="d-flex align-items-center gap-2 mt-2 flex-wrap">
                  <span class="badge-soft"><i class="bi bi-shield-check me-1"></i> Дані активні</span>
                  <span class="badge-soft"><i class="bi bi-lightning-charge me-1"></i> Швидкі дії</span>
                </div>
              </div>
              <div class="kpi-icon">
                <i class="bi bi-scooter"></i>
              </div>
            </div>

            <!-- Майбутнє: додайте real метрики -->
            <div class="mt-3">
              <div class="small text-muted-2 mb-2">Плейсхолдер для майбутніх метрик (нові за 7 днів, статуси, тощо)</div>
              <div class="progress" style="height: 10px;">
                <div class="progress-bar" role="progressbar" style="width: 35%;" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
              <div class="small text-muted-2 mt-2">Готовність модуля статистики</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Search / Filters -->
    <div class="panel p-3 p-md-4 mt-4">
      <div class="d-flex align-items-center justify-content-between gap-2 flex-wrap">
        <div>
          <h2 class="h5 section-title mb-1">Швидкий пошук</h2>
          <div class="small text-muted-2">План: фільтри, сортування, збережені запити.</div>
        </div>
        <form class="d-flex gap-2 flex-wrap" method="get" action="">
          <div class="input-group" style="min-width: 260px;">
            <span class="input-group-text control bg-white"><i class="bi bi-search"></i></span>
            <input
              class="form-control control"
              type="search"
              name="q"
              placeholder="Пошук за назвою..."
              value="{{ request.GET.q|default:'' }}"
            />
          </div>

          <button class="btn btn-outline-secondary control" type="submit">
            Застосувати
          </button>
        </form>
      </div>
    </div>

    <!-- Content -->
    {% if mopeds %}
      <!-- Cards: latest 3 -->
      <div class="d-flex align-items-center justify-content-between gap-2 flex-wrap mt-4">
        <div>
          <h3 class="h5 section-title mb-1">Останні мопеди</h3>
          <div class="small text-muted-2">Огляд останніх записів (зручно на мобілці).</div>
        </div>
        <a class="btn btn-outline-secondary control" href="{% url 'mopeds_list' %}">
          Переглянути всі
        </a>
      </div>

      <div class="row g-3 mt-1">
        {% for moped in mopeds|slice:":3" %}
          <div class="col-md-6 col-xl-4">
            <div class="vehicle-card p-3 p-md-4">
              <div class="d-flex align-items-start justify-content-between gap-2">
                <div>
                  <div class="fw-bold fs-5">{{ moped.name }}</div>
                  <div class="small text-muted-2 mt-1">
                    ID: {{ moped.id|default:"—" }}
                  </div>
                </div>

                {% if moped.starter %}
                  <span class="badge text-bg-success rounded-pill">
                    <i class="bi bi-check2-circle me-1"></i> Стартер
                  </span>
                {% else %}
                  <span class="badge text-bg-warning rounded-pill">
                    <i class="bi bi-exclamation-circle me-1"></i> Ручний запуск
                  </span>
                {% endif %}
              </div>

              <div class="vehicle-meta mt-3">
                <div class="d-flex align-items-center gap-2">
                  <i class="bi bi-layout-text-sidebar-reverse"></i>
                  <div><strong>Кузов:</strong> {{ moped.body|default:"—" }}</div>
                </div>
                <div class="d-flex align-items-center gap-2 mt-2">
                  <i class="bi bi-gear"></i>
                  <div><strong>Двигун:</strong> {{ moped.motor|default:"—" }}</div>
                </div>
              </div>

              <div class="d-flex gap-2 flex-wrap mt-4">
                <a class="btn btn-primary control" href="{% url 'mopeds_list' %}">
                  <i class="bi bi-arrow-right me-1"></i> Відкрити
                </a>
                <button class="btn btn-outline-secondary control" type="button" disabled title="Скоро">
                  <i class="bi bi-pencil-square me-1"></i> Редагувати
                </button>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Table preview -->
      <div class="panel p-3 p-md-4 mt-4">
        <div class="d-flex align-items-center justify-content-between gap-2 flex-wrap">
          <div>
            <h3 class="h6 section-title mb-1">Швидка таблиця</h3>
            <div class="small text-muted-2">Зручно для копіювання/контролю (майбутнє: сортування, пагінація).</div>
          </div>
          <a class="btn btn-outline-secondary control" href="{% url 'mopeds_list' %}">
            Повна таблиця
          </a>
        </div>

        <div class="table-responsive mt-3">
          <table class="table table-hover align-middle mb-0">
            <thead>
              <tr>
                <th style="width:72px;">#</th>
                <th>Назва</th>
                <th class="d-none d-lg-table-cell">Кузов</th>
                <th class="d-none d-lg-table-cell">Двигун</th>
                <th class="text-end" style="width:160px;">Стартер</th>
              </tr>
            </thead>
            <tbody>
              {% for moped in mopeds|slice:":10" %}
                <tr>
                  <td class="text-muted-2">{{ forloop.counter }}</td>
                  <td class="fw-semibold">{{ moped.name }}</td>
                  <td class="d-none d-lg-table-cell">{{ moped.body|default:"—" }}</td>
                  <td class="d-none d-lg-table-cell">{{ moped.motor|default:"—" }}</td>
                  <td class="text-end">
                    {% if moped.starter %}
                      <span class="badge text-bg-success">Є</span>
                    {% else %}
                      <span class="badge text-bg-warning">Немає</span>
                    {% endif %}
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

    {% else %}
      <!-- Empty state -->
      <div class="panel p-4 p-md-5 mt-4 text-center">
        <div class="display-6 mb-2"><i class="bi bi-scooter"></i></div>
        <h2 class="h4 fw-bold mb-2">Немає мопедів у базі даних</h2>
        <div class="text-muted-2 mb-4">
          Додайте перший запис — після цього з'являться картки, таблиця та статистика.
        </div>
        <a href="{% url 'moped_create' %}" class="btn btn-success control fw-semibold">
          <i class="bi bi-plus-circle me-1"></i> Додати перший мопед
        </a>
      </div>
    {% endif %}

    <!-- Footer note -->
    <div class="text-center small text-muted-2 mt-4">
      © {% now "Y" %} Mopeds App • UI готовий до розширень: фільтри, сортування, звіти, аналітика
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
